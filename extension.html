<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-12-01 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Tatsuo TSUCHIE" />
    <meta name="Date-Creation-yyyymmdd" content="20141030" />
    <meta name="Date-Revision-yyyymmdd" content="20141201" />
    <meta http-equiv="Content-Language" content="ja" />
    <title>SuperCsvAnnotation - 拡張方法</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>super-csv-annotation</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">最終更新: 2014-12-01
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">バージョン: 1.1
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Document</li>
                              
      <li>
  
                          <a href="howtouse.html" title="基本的な使い方">
          <i class="none"></i>
        基本的な使い方</a>
            </li>
                
      <li>
  
                          <a href="validation.html" title="メッセージ処理">
          <i class="none"></i>
        メッセージ処理</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>拡張方法</a>
          </li>
                
      <li>
  
                          <a href="download.html" title="ダウンロード">
          <i class="none"></i>
        ダウンロード</a>
            </li>
                
      <li>
  
                          <a href="release.html" title="リリース情報">
          <i class="none"></i>
        リリース情報</a>
            </li>
                              <li class="nav-header">プロジェクト文書</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="プロジェクト情報">
          <i class="icon-chevron-right"></i>
        プロジェクト情報</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="プロジェクトレポート">
          <i class="icon-chevron-right"></i>
        プロジェクトレポート</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>&#x62e1;&#x5f35;&#x65b9;&#x6cd5;<a name="a"></a></h2>
<ul>
<li><a href="#a">&#x62e1;&#x5f35;&#x65b9;&#x6cd5;</a>
<ul>
<li><a href="#aCellProcessorBuilder">&#x72ec;&#x81ea;&#x306e;CellProcessorBuilder&#x306e;&#x4f5c;&#x6210;</a></li>
<li><a href="#aCellProcessorBuilder">&#x65e2;&#x5b58;&#x306e;CellProcessorBuilder&#x306e;&#x5909;&#x66f4;</a></li>
<li><a href="#aCellProcessorBuilderFactory">&#x72ec;&#x81ea;&#x306e;CellProcessorBuilderFactory&#x306e;&#x6307;&#x5b9a;</a></li>
<li><a href="#SpringFrameworkCellProcessor">SpringFramework&#x3092;&#x5229;&#x7528;&#x3057;&#x305f;&#x72ec;&#x81ea;&#x306e;CellProcessor&#x306e;&#x4f5c;&#x6210;&#x4f8b;</a></li></ul></li></ul>
<div class="section">
<h3><a name="aCellProcessorBuilder">&#x72ec;&#x81ea;&#x306e;CellProcessorBuilder&#x306e;&#x4f5c;&#x6210;</a><a name="aCellProcessorBuilder"></a></h3>
<p>&#x72ec;&#x81ea;&#x306e;&#x30af;&#x30e9;&#x30b9;&#x30bf;&#x30a4;&#x30d7;&#x3092;&#x51e6;&#x7406;&#x3059;&#x308b;&#x3068;&#x304d;&#x306b;&#x306f;&#x3001;&#x30af;&#x30e9;&#x30b9;&#x306b;&#x5bfe;&#x3059;&#x308b;CellProcessorBuilder&#x3092;&#x767b;&#x9332;&#x3059;&#x308b;&#x3053;&#x3068;&#x306b;&#x306a;&#x308a;&#x307e;&#x3059;&#x3002; CellProcessorBuilder&#x306f;&#x3001;AbstractCellProcessorBuilder&#x3092;&#x7d99;&#x627f;&#x3057;&#x3066;&#x4f5c;&#x6210;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<p>Generics&#x306b;&#x3001;&#x51e6;&#x7406;&#x5bfe;&#x8c61;&#x306e;&#x30af;&#x30e9;&#x30b9;&#x30bf;&#x30a4;&#x30d7;&#x3092;&#x6307;&#x5b9a;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<div>
<pre>public class CustomCellProcessor extends AbstractCellProcessorBuilder&lt;CustomObject&gt; {
    // &#x66f8;&#x304d;&#x8fbc;&#x307f;&#x6642;&#x7528;&#x306e;CellProcessor&#x306e;&#x7d44;&#x307f;&#x7acb;&#x3066;
    @Override
    public CellProcessor buildOutputCellProcessor(final Class&lt;CustomObject&gt; type, final  Annotation[] annos,
            final CellProcessor processor, final boolean ignoreValidationProcessor) {
         //TODO: &#x5b9f;&#x88c5;
    }
    
    // &#x8aad;&#x307f;&#x8fbc;&#x307f;&#x6642;&#x7528;&#x306e;CellProcessor&#x306e;&#x7d44;&#x307f;&#x7acb;&#x3066;
    @Override
    public CellProcessor buildInputCellProcessor(final Class&lt;CustomObject&gt; type, final Annotation[] annos,
            final CellProcessor processor) {
         //TODO: &#x5b9f;&#x88c5;
    }
}
</pre></div>
<p>&#x72ec;&#x81ea;&#x306e;CellProcessorBuilder&#x306e;&#x767b;&#x9332;&#x65b9;&#x6cd5;&#x306f;&#x3001;&#x6b21;&#x306e;2&#x901a;&#x308a;&#x304c;&#x3042;&#x308a;&#x307e;&#x3059;&#x3002;</p>
<ul>
<li>CellProcessorBuilderContainer&#x306b;&#x767b;&#x9332;&#x3059;&#x308b;&#x3002;
<ul>
<li>CellProcessorBuilderContainer&#x3078;&#x306e;&#x767b;&#x9332;&#x65b9;&#x6cd5;&#x306f;&#x3001;&#x4e0b;&#x8a18;&#x306e;&#x300c;&#x65e2;&#x5b58;&#x306e;CellProcessorBuilder&#x306e;&#x5909;&#x66f4;&#x300d;&#x3092;&#x53c2;&#x7167;&#x3057;&#x3066;&#x304f;&#x3060;&#x3055;&#x3044;&#x3002;</li></ul></li>
<li>&#x30a2;&#x30ce;&#x30c6;&#x30fc;&#x30b7;&#x30e7;&#x30f3; @CsvColumn(builderClass=&lt;&#x72ec;&#x81ea;&#x306e;CellProcessorBuilder&gt;)&#x3067;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x3002;
<ul>
<li>CellProcessorBuilder&#x306e;&#x30a4;&#x30f3;&#x30b9;&#x30bf;&#x30f3;&#x30b9;&#x306e;&#x751f;&#x6210;&#x65b9;&#x6cd5;&#x3092;&#x5909;&#x66f4;&#x3057;&#x305f;&#x3044;&#x5834;&#x5408;&#x306f;&#x3001;&#x4e0b;&#x8a18;&#x306e;&#x300c;&#x72ec;&#x81ea;&#x306e;CellProcessorBuilderFactory&#x306e;&#x6307;&#x5b9a;&#x300d;&#x3092;&#x53c2;&#x7167;&#x3057;&#x3066;&#x304f;&#x3060;&#x3055;&#x3044;&#x3002;</li></ul></li></ul>
<div>
<pre>// @CsvColumn&#x3067;&#x6307;&#x5b9a;&#x3059;&#x308b;&#x5834;&#x5408;&#x3002;
public class Data {
    @CsvColumn(position=0, builderClass=CustomCellProcessor.class)
    private CustomObject myObject;
}
</pre></div></div>
<div class="section">
<h3><a name="aCellProcessorBuilder">&#x65e2;&#x5b58;&#x306e;CellProcessorBuilder&#x306e;&#x5909;&#x66f4;</a><a name="aCellProcessorBuilder"></a></h3>
<p>&#x65e2;&#x5b58;&#x306e;CellProcessorBuilder&#x306f;&#x3001;&#x300c;CellProcessorBuilderContainer&#x300d;&#x30af;&#x30e9;&#x30b9;&#x3067;&#x7ba1;&#x7406;&#x3057;&#x3066;&#x3044;&#x307e;&#x3059;&#x3002; &#x3055;&#x3089;&#x306b;&#x3001;CellProcessorBuilderContainer&#x306f;&#x3001;&#x300c;CsvAnnotationBeanParser&#x300d;&#x30af;&#x30e9;&#x30b9;&#x3067;&#x30a4;&#x30f3;&#x30b9;&#x30bf;&#x30f3;&#x30b9;&#x3092;&#x4fdd;&#x6301;&#x3055;&#x308c;&#x3066;&#x3044;&#x307e;&#x3059;&#x3002;</p>
<p>CsvAnnotationBeanParser&#x306e;&#x30a4;&#x30f3;&#x30b9;&#x30bf;&#x30f3;&#x30b9;&#x3092;&#x3001;CsvAnnotationBeanReader/CsvAnnotationBeanWriter&#x306e;&#x30b3;&#x30f3;&#x30b9;&#x30c8;&#x30e9;&#x30af;&#x30bf;&#x306b;&#x6e21;&#x3057;&#x3066;&#x4f7f;&#x7528;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<div>
<pre>// CsvAnnotationBeanParser&#x304b;&#x3089;CellProcessorBuilderContainer&#x3092;&#x53d6;&#x5f97;&#x3057;&#x30ab;&#x30b9;&#x30bf;&#x30de;&#x30a4;&#x30ba;&#x3059;&#x308b;&#x3002;
CsvAnnotationBeanParser beanParser = new CsvAnnotationBeanParser();

CellProcessorBuilderContainer builderContainer = beanParser.getBuilderContainer();
builderContainer.registerBuilder(String.class, new CustomizeStringCellProcessor());

// CsvAnnotationBeanParser&#x3092;&#x3001;CsvAnnotationBeanReader&#x306b;&#x6e21;&#x3059;&#x3002;
CsvAnnotationBeanReader csvReader = 
    new CsvAnnotationBeanReader(SampleBean.class, strWriter, CsvPreference.STANDARD_PREFERENCE, beanParser);

</pre></div></div>
<div class="section">
<h3><a name="aCellProcessorBuilderFactory">&#x72ec;&#x81ea;&#x306e;CellProcessorBuilderFactory&#x306e;&#x6307;&#x5b9a;</a><a name="aCellProcessorBuilderFactory"></a></h3>
<p>CellProcessorBuilder&#x306e;&#x30a4;&#x30f3;&#x30b9;&#x30bf;&#x30f3;&#x30b9;&#x3092;SpringFramework&#x306a;&#x3069;&#x306e;DI&#x30b3;&#x30f3;&#x30c6;&#x30ca;&#x304b;&#x3089;&#x53d6;&#x5f97;&#x3059;&#x308b;&#x6642;&#x306f;&#x3001; &#x300c;CellProcessorBuilderFactory&#x300d;&#x3092;&#x30ab;&#x30b9;&#x30bf;&#x30de;&#x30a4;&#x30ba;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<p>&#x65e2;&#x5b58;&#x306e;CellProcessorBuilderFactory&#x306f;&#x3001;&#x300c;CellProcessorBuilderContainer&#x300d;&#x30af;&#x30e9;&#x30b9;&#x3067;&#x7ba1;&#x7406;&#x3057;&#x3066;&#x3044;&#x307e;&#x3059;&#x3002; &#x3055;&#x3089;&#x306b;&#x3001;CellProcessorBuilderContainer&#x306f;&#x3001;&#x300c;CsvAnnotationBeanParser&#x300d;&#x30af;&#x30e9;&#x30b9;&#x3067;&#x30a4;&#x30f3;&#x30b9;&#x30bf;&#x30f3;&#x30b9;&#x3092;&#x4fdd;&#x6301;&#x3055;&#x308c;&#x3066;&#x3044;&#x307e;&#x3059;&#x3002;</p>
<p>CsvAnnotationBeanParser&#x306e;&#x30a4;&#x30f3;&#x30b9;&#x30bf;&#x30f3;&#x30b9;&#x3092;&#x3001;CsvAnnotationBeanReader/CsvAnnotationBeanWriter&#x306e;&#x30b3;&#x30f3;&#x30b9;&#x30c8;&#x30e9;&#x30af;&#x30bf;&#x306b;&#x6e21;&#x3057;&#x3066;&#x4f7f;&#x7528;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<p>SpringFramework&#x7d4c;&#x7531;&#x3067;&#x30a4;&#x30f3;&#x30b9;&#x30bf;&#x30f3;&#x30b9;&#x3092;&#x53d6;&#x5f97;&#x3057;&#x305f;&#x3044;&#x5834;&#x5408;&#x306f;&#x3001;SpringCellProcessorBuilderFacatory&#x3092;&#x4f7f;&#x7528;&#x3057;&#x307e;&#x3059;&#x3002; SpringCellProcessorBuilderFacatory&#x3092;&#x4e88;&#x3081;&#x3001;Spring&#x306e;&#x30b3;&#x30f3;&#x30c6;&#x30ca;&#x306b;&#x767b;&#x9332;&#x3057;&#x3066;&#x304a;&#x304f;&#x5fc5;&#x8981;&#x304c;&#x3042;&#x308a;&#x307e;&#x3059;&#x3002;</p>
<div>
<pre>// CsvAnnotationBeanParser&#x304b;&#x3089;CellProcessorBuilderContainer&#x3092;&#x53d6;&#x5f97;&#x3057;&#x30ab;&#x30b9;&#x30bf;&#x30de;&#x30a4;&#x30ba;&#x3059;&#x308b;&#x3002;
CsvAnnotationBeanParser beanParser = new CsvAnnotationBeanParser();

// SpringCellProcessorBuilderFacatory&#x306e;&#x30a4;&#x30f3;&#x30b9;&#x30bf;&#x30f3;&#x30b9;&#x3092;&#x6e21;&#x3059;&#x3002;
SpringCellProcessorBuilderFacatory builderFactory = /* SpringFramework&#x306e;&#x30b3;&#x30f3;&#x30c6;&#x30ca;&#x304b;&#x3089;&#x53d6;&#x5f97; */;
beanParser.setBuilderFactory(builderFactory);

// CsvAnnotationBeanParser&#x3092;&#x3001;CsvAnnotationBeanReader&#x306b;&#x6e21;&#x3059;&#x3002;
CsvAnnotationBeanReader&lt;SampleBean&gt; csvReader = 
    new CsvAnnotationBeanReader(SampleBean.class, strWriter, CsvPreference.STANDARD_PREFERENCE, beanParser);
</pre></div></div>
<div class="section">
<h3><a name="SpringFrameworkCellProcessor">SpringFramework&#x3092;&#x5229;&#x7528;&#x3057;&#x305f;&#x72ec;&#x81ea;&#x306e;CellProcessor&#x306e;&#x4f5c;&#x6210;&#x4f8b;</a><a name="SpringFrameworkCellProcessor"></a></h3>
<p>SpringFramework&#x306e;&#x30b3;&#x30f3;&#x30c6;&#x30ca;&#x7ba1;&#x7406;&#x3067;&#x3042;&#x308b;&#x300c;UserService&#x300d;&#x3092;CellProcessor&#x5185;&#x3067;&#x5229;&#x7528;&#x3059;&#x308b;&#x4f8b;&#x3092;&#x7d39;&#x4ecb;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<p>&#x3053;&#x3053;&#x3067;&#x306e;&#x4f8b;&#x306f;&#x3001;CSV&#x306e;&#x8aad;&#x307f;&#x8fbc;&#x307f;&#x6642;&#x306b;&#x30e6;&#x30fc;&#x30b6;ID&#x304c;DB&#x306b;&#x5b58;&#x5728;&#x3059;&#x308b;&#x304b;&#x3069;&#x3046;&#x304b;&#x306e;&#x5236;&#x7d04;&#x306b;&#x3088;&#x308b;&#x30c1;&#x30a7;&#x30c3;&#x30af;&#x3092;&#x884c;&#x3044;&#x307e;&#x3059;&#x3002;</p>
<p>CellProcessor&#x306f;Chain of Responsibirity&#x3067;&#x7d44;&#x307f;&#x7acb;&#x3066;&#x308b;&#x305f;&#x3081;&#x3001;&#x5f15;&#x6570;&#x306b;CellProcessor&#x3092;&#x6301;&#x3064;&#x3082;&#x306e;&#x3068;&#x6301;&#x305f;&#x306a;&#x3044;&#x30b3;&#x30f3;&#x30b9;&#x30c8;&#x30e9;&#x30af;&#x30bf;&#x3092;&#x5b9a;&#x7fa9;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<div>
<pre>public class UserIdExist extends CellProcessorAdaptor 
        implements StringCellProcessor, ValidationCellProcessor {
    
    private UserService userService;
    
    public UserIdExist(UserService userService) {
        this.userService = userService;
    }
    
    public UserIdExist(UserService userService, final CellProcessor next) {
        super(next);
        this.userService = userService;
    }
    
    @Override
    public String getMessageCode() {
        return &quot;UserIdExist&quot;;
    }
    
    @Override
    public Map&lt;String, ?&gt; getMessageVariable() {
        Map&lt;String, ?&gt; vars = new HashMap&lt;String, Object&gt;();
        return vars;
    }
    
    @Override
    public String formatValue(final Object value) {
        if(value == null) {
            return &quot;&quot;;
        }
        return value.toString();
    }
    
    @Override
    public Object execute(final Object value, final CSVContext context) {
        
        validateInputNotNull(value, context);
        
        final String stringValue = value.toString();
        if( !userService.existByUserId(stringValue) ) {
            throw new SuperCsvConstraintViolationException(String.format(&quot;not exist userId '%s'&quot;, stringValue),
                    context, this);
        }
        
        return next.execute(stringValue, context);
    }
}
</pre></div>
<p>Spring &#x30b3;&#x30f3;&#x30c6;&#x30c6;&#x30ca;&#x7ba1;&#x7406;&#x306e;&#x300c;CellProcessorBuilder&#x300d;&#x3092;&#x5b9a;&#x7fa9;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<p>CellProcessor&#x306e;UserIdExist&#x3092;Chain&#x3067;&#x65e2;&#x5b58;&#x306e;CellProcessor&#x306b;&#x8ffd;&#x52a0;&#x3057;&#x307e;&#x3059;&#x3002; &#x6700;&#x5f8c;&#x306b;&#x5b9f;&#x884c;&#x3055;&#x308c;&#x308b;&#x3088;&#x3046;&#x3001;&#x65e2;&#x5b58;&#x306e;CellProcessor&#x306e;&#x7d44;&#x307f;&#x7acb;&#x3066;&#x306e;&#x524d;&#x306b;&#x3001;&#x8ffd;&#x52a0;&#x3057;&#x3066;&#x304a;&#x304d;&#x307e;&#x3059;&#x3002;</p>
<p>Spring&#x30b3;&#x30f3;&#x30c6;&#x30ca;&#x7ba1;&#x7406;&#x306e;&#x300c;UserService&#x300d;&#x3092;&#x30a4;&#x30f3;&#x30b8;&#x30a7;&#x30af;&#x30b7;&#x30e7;&#x30f3;&#x3057;&#x3066;&#x304a;&#x304d;&#x3001;&#x72ec;&#x81ea;&#x306e;CellProcesor&#x306b;&#x6e21;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<div>
<pre>public class UserIdCellProcessorBuilder extends StringCellProcessorBuilder {
    
    @Autowired
    private UserService userService;
    
    @Override
    public CellProcessor buildOutputCellProcessor(final Class&lt;String&gt; type, final  Annotation[] annos,
            final CellProcessor processor, final boolean ignoreValidationProcessor) {
        
        CellProcessor cellProcessor = super.buildOutputCellProcessor(type, annos, processor, ignoreValidationProcessor);
        return cellProcessor;
    }
    
    @Override
    public CellProcessor buildInputCellProcessor(final Class&lt;String&gt; type, final Annotation[] annos,
            final CellProcessor processor) {
        
        CellProcessor cellProcessor = processor;
        
        // &#x72ec;&#x81ea;&#x306e;CellProcessor&#x306e;&#x7d44;&#x307f;&#x7acb;&#x3066;&#x3002;
        if(cellProcessor == null) {
            cellProcessor = new UserIdExist(userService);
        } else {
            cellProcessor = new UserIdExist(userService, cellProcessor);
        }
        
        // &#x65e2;&#x5b58;&#x306e;CellProcessor&#x306e;&#x7d44;&#x307f;&#x7acb;&#x3066;&#x3002;&#x5148;&#x982d;&#x306b;&#x8ffd;&#x52a0;&#x3059;&#x308b;&#x3002;
        cellProcessor = super.buildInputCellProcessor(type, annos, cellProcessor);
        
        return cellProcessor;
    }
    
}
</pre></div>
<p>Csv&#x306e;Bean&#x5b9a;&#x7fa9;&#x306e;&#x969b;&#x306b;&#x306f;&#x3001;&#x72ec;&#x81ea;&#x306b;&#x8ffd;&#x52a0;&#x3057;&#x305f;CellProcessorBuilder&#x3092;&#x6307;&#x5b9a;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<div>
<pre>@CsvBean(header=true)
public class UserCsv {
    
    @CsvColumn(position=0, label=&quot;&#x30e6;&#x30fc;&#x30b6;ID&quot;, builderClass=UserIdCellProcessorBuilder.class)
    private String id;
    
    // setteer/getter&#x306f;&#x7701;&#x7565;
}
</pre></div>
<p>Spring&#x306e;ApplicationContext.xml&#x306b;&#x306f;&#x3001;&#x5fc5;&#x8981;&#x306a;&#x30af;&#x30e9;&#x30b9;&#x3092;&#x767b;&#x9332;&#x3057;&#x3066;&#x304a;&#x304d;&#x307e;&#x3059;&#x3002;</p>
<div>
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
        http://www.springframework.org/schema/aop
        http://www.springframework.org/schema/aop/spring-aop-3.2.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context-3.2.xsd
    &quot;&gt;
    
    &lt;context:annotation-config /&gt;
    
    &lt;bean id=&quot;springCellProcessorBuilderFacatory&quot; class=&quot;org.supercsv.ext.builder.SpringCellProcessorBuilderFacatory&quot; /&gt;
    
    &lt;bean id=&quot;userIdCellProcessorBuilder&quot; class=&quot;org.supercsv.ext.spring.UserIdCellProcessorBuilder&quot;/&gt;
    
    &lt;bean id=&quot;userService&quot; class=&quot;org.supercsv.ext.spring.UserService&quot;/&gt;

&lt;/beans&gt;
</pre></div>
<p>Spring &#x306e;&#x30b3;&#x30f3;&#x30c6;&#x30ca;&#x304b;&#x3089;pringCellProcessorBuilderFacatory&#x3092;&#x53d6;&#x5f97;&#x3057;&#x3001;CsvAnnotationBeanParser&#x306b;&#x6e21;&#x3057;&#x3066;&#x4f7f;&#x7528;&#x3057;&#x307e;&#x3059;&#x3002;</p>
<div>
<pre>SpringCellProcessorBuilderFacatory builderFactory = /* SpringFramework&#x306e;&#x30b3;&#x30f3;&#x30c6;&#x30ca;&#x304b;&#x3089;&#x53d6;&#x5f97; */;

CsvAnnotationBeanParser beanParser = new CsvAnnotationBeanParser();
beanParser.setBuilderFactory(builderFactory);

// CsvAnnotationBeanParser&#x3092;&#x3001;CsvAnnotationBeanReader&#x306b;&#x6e21;&#x3059;&#x3002;
CsvAnnotationBeanReader&lt;UserCsv&gt; csvReader = 
    new CsvAnnotationBeanReader(UserCsv.class, strWriter, CsvPreference.STANDARD_PREFERENCE,
    beanParser);
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2014
                        <a href="http://mygreen.github.io/super-csv-annotation/">mygreen</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
